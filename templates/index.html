<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Detector de sonidos (grito / disparos / ruido)</title>
</head>

<body>
    <h1>Detector de sonidos</h1>
    <p>Ventanas de audio: {{duracion}} segundos</p>
    <h2>Predicci√≥n actual:</h2>
    <p><strong>Etiqueta:</strong> <span id="label">---</span></p>
    <p><strong>Confianza:</strong> <span id="conf">0.00</span></p>
    <h3>Probabilidades por clase:</h3>
    <pre id="probs">{}</pre>

    <script>
        async function update() {
            const res = await fetch('/status');
            const data = await res.json();
            document.getElementById('label').textContent = data.label;
            document.getElementById('conf').textContent = data.conf.toFixed(3);
            document.getElementById('probs').textContent = JSON.stringify(data.probs, null, 2);
        }
        setInterval(update, 1000);
        update();
    </script>
</body>

</html>